<html>
<head>
  <style>
    html{
      width:100%;
      height:100%;
      display:flex;
    }
    body{
      margin:0;
      width:100%;
      height:100%;
    }
    .centred-container{
      margin-right:20px;
    }

    .front-page-content{
      float:right;
      color:#000;
    }
    .front-page-content a{
      color:black;
      text-decoration: none;
    }
    .front-page-content a:hover{
      color:black;
      text-decoration: underline;

    }
    ul.navbar-menu{
      padding:0;
      margin:0;
    }
    .title{
        font-size:52px;
        text-decoration:underline;
    }
    ul li{
      list-style-type:none;
      padding-top:10px;
    }
    .flex{
      display:flex;
    }
  </style>
</head>

<body>
    <div class="centred-container">
      <div class="front-page-content">
        <h1 class="title">
          Shiritori Solver
        </h1>
        <span>
          A delve into a Japanese word game.<br> Game, and website designed and developed by Jeremy Scott.
        </span>
        <div class="navbar">
          <ul class="navbar-menu">
            <li class="navbar-menu-item"><h2><a class="navbar-link" href="/">Home</a></h2></li>
            <li class="navbar-menu-item"><h2><a class="navbar-link" href="/what-is-shiritori">What is Shiritori?</a></h2></li>
            <li class="navbar-menu-item"><h2><a class="navbar-link" href="/about-the-theory">About Shiritori Theory</a></h2></li>
            <li class="navbar-menu-item"><h2><a class="navbar-link" href="/this-game">How does this version work?</a></h2></li>
            <li class="navbar-menu-item"><h2><a class="navbar-link" href="/contact">Contact Us</a></h2></li>
          </ul>
        </div>
      </div>
    </div>
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    <ul class="flex block nostyle">
      {% for message in messages %}
     	<li>{{message[1]}}</li>
      {% endfor %}
    </ul>
    {% endif %}
    {% endwith %}
    <form action="" method="post" autocomplete="off">
                  {{form.csrf}}
      <div class="flex">
        <div class="input text">
                    {{form.word.label}} {{form.word(autocomplete="off")}}
        </div>
        <div class="input text" style="display:none;">
                    {{form.past_words.label}} {{form.past_words(readonly=true)}}
        </div>

        <div class="input submit">
          <input type="submit" value="Submit">
        </div>
      </div>
    </form>
    <div id="played_words">

    </div>
    <script>
      let played_words_csv = document.getElementById("past_words").value;
      let played_words = played_words_csv.split('),(');
      html ="";
      for(var i = played_words.length-1; i>=0; --i){
        let word = played_words[i];
        word = word.replace(')', ' ');
        word = word.replace('(', ' ');
        let inner_words = word.split(',');
        let word_played = inner_words[0];
        let word_meaning = inner_words[1];

        if(i%2==0){
          html +="<div><p>Computer Played : "+word_played+" - Meaning : "+word_meaning+"</div></p>";
        }
        else{
          html += "<div><p>You Played : "+word_played+" - Meaning : "+word_meaning+"</div></p>";
        }

      }
      document.getElementById("played_words").innerHTML=html;

    </script>
  </body>
</html>
